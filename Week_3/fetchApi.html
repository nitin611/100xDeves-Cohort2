<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API Data</title>
</head>
<body>

    <script>

        // How fetch api works-

        fetch('https://api.example.com/data')
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error('Error:', error));

        //--------------------------------- promise chaining method for fetch using then------------------
        // ------------------------------Fetch data from the first API endpoint then second--------------
        
fetch(apiUrl1)
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data1 => {
    // Process data from the first API
    console.log('Data from API 1:', data1);

    // Fetch data from the second API endpoint
    return fetch(apiUrl2);
  })
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data2 => {
    // Process data from the second API
    console.log('Data from API 2:', data2);
  })
  .catch(error => {
    console.error('Error:', error);
  });






        // -------------------------------------------
        // ---------------------.then code----------------------------------
        function getAnimalData() {
            fetch('https://fakerapi.it/api/v1/persons')
            .then(function(response) {
                return response.json();
            })
            .then(function(finalData) {
                console.log(finalData);
            });
        }

        // async- await code------------------------

        async function getAnimalData() {
            const response = await fetch('https://fakerapi.it/api/v1/persons');
            const finalData = await response.json();
            console.log(finalData);
        }
    </script>

    <button onclick="getAnimalData()">Get animal data</button>

</body>
</html>
